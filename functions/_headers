# Cloudflare Pages Custom Headers
# https://developers.cloudflare.com/pages/configuration/headers/

# Static pages - cache for 1 hour at edge, 2 hours at CDN
/
  Cache-Control: public, max-age=3600, s-maxage=7200
  Vary: User-Agent
  Content-Security-Policy: default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://accounts.clerk.dev https://www.googletagmanager.com https://js.stripe.com https://connect.facebook.net; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; img-src 'self' data: https: blob:; font-src 'self' data: https://fonts.gstatic.com; connect-src 'self' https://api.huepress.co https://clerk.huepress.co https://api.stripe.com https://*.googletagmanager.com; frame-src https://js.stripe.com https://accounts.clerk.dev; worker-src 'self' blob:
  Cross-Origin-Opener-Policy: same-origin-allow-popups
  Cross-Origin-Embedder-Policy: credentialless
  Permissions-Policy: camera=(), microphone=(), geolocation=()
  Referrer-Policy: strict-origin-when-cross-origin
  X-Content-Type-Options: nosniff
  X-Frame-Options: SAMEORIGIN

/vault
  Cache-Control: public, max-age=1800, s-maxage=3600

/about
  Cache-Control: public, max-age=86400, s-maxage=604800

/pricing
  Cache-Control: public, max-age=3600, s-maxage=7200

/blog
  Cache-Control: public, max-age=3600, s-maxage=7200

# Coloring pages - cache aggressively (1 day browser, 1 week edge)
/coloring-pages/*
  Cache-Control: public, max-age=86400, s-maxage=604800

# Collections - cache for 12 hours
/collection/*
  Cache-Control: public, max-age=43200, s-maxage=86400

# Static assets - cache forever with immutable
/*.js
  Cache-Control: public, max-age=31536000, immutable

/*.css
  Cache-Control: public, max-age=31536000, immutable

/*.woff2
  Cache-Control: public, max-age=31536000, immutable

/*.woff
  Cache-Control: public, max-age=31536000, immutable

/*.svg
  Cache-Control: public, max-age=31536000, immutable

/*.png
  Cache-Control: public, max-age=31536000, immutable

/*.jpg
  Cache-Control: public, max-age=31536000, immutable

/*.webp
  Cache-Control: public, max-age=31536000, immutable

# Sitemaps and robots - cache for 1 hour
/sitemap.xml
  Cache-Control: public, max-age=3600

/robots.txt
  Cache-Control: public, max-age=3600

# Dynamic/authenticated routes - no cache
/dashboard*
  Cache-Control: private, no-cache, no-store, must-revalidate

/admin/*
  Cache-Control: private, no-cache, no-store, must-revalidate

/api/*
  Cache-Control: private, no-cache, no-store, must-revalidate
